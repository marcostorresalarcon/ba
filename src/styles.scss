@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  /* Mejoras de scroll nativo para iOS y Android */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
  overscroll-behavior: contain;
  /* Prevenir zoom accidental en iOS */
  touch-action: pan-x pan-y;
}

body {
  @apply min-h-screen bg-sand text-charcoal font-sans antialiased;
  background-color: #ead1ba;
  /* Mejoras de scroll nativo */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
  overscroll-behavior: contain;
  /* Prevenir scroll horizontal no deseado */
  overflow-x: hidden;
  /* Mejorar rendimiento de scroll */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Aceleración de hardware para mejor rendimiento */
  transform: translateZ(0);
  will-change: scroll-position;
}

::selection {
  background-color: rgba(58, 115, 68, 0.25);
  color: #332f28;
}

button,
a,
input,
textarea,
select {
  @apply outline-none transition duration-200 ease-in-out;
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  @apply ring-2 ring-offset-2 ring-pine ring-offset-sand;
}

/* Mejoras de scroll para contenedores con overflow */
* {
  /* Scroll suave nativo en iOS */
  -webkit-overflow-scrolling: touch;
}

/* Contenedores scrollables */
.scroll-container,
[class*='overflow'],
[class*='scroll'] {
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
  overscroll-behavior: contain;
  /* Mejorar rendimiento */
  transform: translateZ(0);
  will-change: scroll-position;
}

/* Prevenir rebote en iOS */
.overscroll-none {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

/* Scroll suave para navegación programática */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Animaciones para el canvas de dibujo */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out;
}

@keyframes canvasFromClick {
  from {
    opacity: 0;
    transform: translate(var(--offset-x, 0px), var(--offset-y, 0px)) scale(0.3);
    transform-origin: center center;
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
    transform-origin: center center;
  }
}

.animate-canvasFromClick {
  animation: canvasFromClick 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

:root {
  color-scheme: light !important;
}

:host,
app-root {
  /* Sobrescribe la función light-dark() con valores fijos */
  background-color: #ffffff !important;
  color: #000000 !important;
  color-scheme: light !important;

  /* Restablece bordes si el estilo intruso los puso */
  border: none !important;
}

/* Asegura que el body también sea blanco */
body {
  background-color: #ffffff !important;
  color: #000000 !important;
}

/* Apunta al componente Web de Google Maps */
gmp-place-autocomplete,
.address-autocomplete-container {
  /* Fuerza el esquema de color a luz para que la función light-dark() elija el primero */
  color-scheme: light !important;
  border: 0.5px solid #cbd5e1 !important;
  border-radius: 1rem !important;

  /* Variables específicas para el fondo y texto del input */
  --gmp-place-autocomplete-background: #ffffff;
  --gmp-place-autocomplete-text-color: #374151; /* Charcoal/Gray */
  --gmp-place-autocomplete-placeholder-color: #64748b; /* Slate */

  /* Variables para el menú desplegable (popover) */
  --gmp-place-autocomplete-popover-background: #ffffff;
  --gmp-place-autocomplete-popover-text-color: #374151;

  /* Borde (si quieres quitar ese borde negro que veías) */
  --gmp-place-autocomplete-border-color: #cbd5e1;
}
