<section class="w-full rounded-[2.5rem] bg-white/90 p-6 shadow-brand backdrop-blur-xl sm:p-8" data-interactive="true">
  <header class="text-center">
    <p class="text-xs uppercase tracking-[0.35em] text-clay">BA Platform</p>
    <h2 class="mt-3 font-display text-3xl text-charcoal sm:text-4xl">Sign in to continue</h2>
    <p class="mt-2 text-sm text-slate">Access your estimates, projects, and KPIs from a single workspace.</p>
  </header>

  <form class="mt-6 space-y-5" (ngSubmit)="submit()" [formGroup]="form">
    @if (errorMessage) {
      <div class="rounded-2xl border border-red-300 bg-red-50 p-4 text-sm text-red-800">
        <p class="font-semibold">Authentication Error</p>
        <p class="mt-1">{{ errorMessage }}</p>
      </div>
    }

    <label class="flex flex-col gap-2 text-sm font-medium text-charcoal">
      Email address
      <input
        data-interactive="true"
        type="email"
        formControlName="email"
        placeholder="estimator@bakitchen.com"
        class="rounded-2xl border border-fog/60 bg-white/80 px-4 py-3 text-base text-charcoal shadow-sm placeholder:text-slate focus:border-pine focus:ring-1 focus:ring-pine"
      />
    </label>
    @if (controlInvalid('email')) {
      <p class="text-xs text-red-600">Enter a valid email to continue.</p>
    }

    <label class="flex flex-col gap-2 text-sm font-medium text-charcoal">
      Password
      <div class="relative flex items-center">
        <input
          data-interactive="true"
          [type]="showPassword() ? 'text' : 'password'"
          formControlName="password"
          placeholder="••••••••"
          class="w-full rounded-2xl border border-fog/60 bg-white/80 px-4 py-3 pr-12 text-base text-charcoal shadow-sm placeholder:text-slate focus:border-pine focus:ring-1 focus:ring-pine"
        />
        <button
          type="button"
          data-interactive="true"
          class="absolute right-3 text-sm font-semibold text-pine hover:text-pine-dark"
          (click)="togglePasswordVisibility()"
        >
          {{ showPassword() ? 'Hide' : 'Show' }}
        </button>
      </div>
    </label>
    @if (controlInvalid('password')) {
      <p class="text-xs text-red-600">Password must contain at least 6 characters.</p>
    }

    <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
      <label class="flex items-center gap-3 text-sm text-charcoal">
        <input
          type="checkbox"
          formControlName="rememberMe"
          class="h-4 w-4 rounded border-fog text-pine focus:ring-pine"
          data-interactive="true"
        />
        Remember me
      </label>
      <a class="text-sm font-semibold text-pine hover:text-pine-dark" href="#" data-interactive="true">
        Forgot password?
      </a>
    </div>

    <button
      type="submit"
      data-interactive="true"
      class="mt-4 inline-flex w-full items-center justify-center rounded-2xl bg-pine px-4 py-3 text-base font-semibold text-white shadow-raised transition hover:bg-pine-dark disabled:cursor-not-allowed disabled:bg-slate/60"
      [disabled]="isSubmitting"
    >
      {{ isSubmitting ? 'Signing in...' : 'Sign in' }}
    </button>
  </form>

  <p class="mt-6 text-center text-sm text-slate">
    Need an account?
    <a class="font-semibold text-charcoal underline-offset-4 hover:underline" href="#" data-interactive="true">
      Contact BA Support
    </a>
  </p>
</section>
